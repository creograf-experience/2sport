_ = require('lodash')
moment = require('moment')
{ObjectId} = require('mongoose').Types
{vasya, petya, misha, kolya} = require('./users')

vasyaWorkouts = [[61.355005502700806,55.1764109247172],[61.35498404502869,55.1764109247172],[61.355026960372925,55.17642930486971],[61.35496258735657,55.1764109247172],[61.35809540748596,55.17683979273381],[61.35809540748596,55.17677852615683],[61.35806322097778,55.174701533484736],[61.35871767997742,55.17047981955525],[61.358760595321655,55.170412415561614],[61.358760595321655,55.16957291991027],[61.35884642601013,55.16964032532332],[61.35885715484619,55.16953002549718],[61.359286308288574,55.16935231957986],[61.35892152786255,55.170069266190644],[61.36441469192505,55.16083989132146],[61.36462926864624,55.16082763309508],[61.3625693321228,55.15830235812184],[61.36207580566406,55.15886626834136],[61.33842945098877,55.15234403693297],[61.291823387145996,55.20909581263728],[61.291844844818115,55.20908356924816],[61.29195213317871,55.20905908245857],[61.29178047180176,55.20905908245857],[61.29190921783447,55.20904683905813],[61.292359828948975,55.207834723775434],[61.29255294799805,55.207834723775434],[61.29278898239136,55.20778574864486],[61.29268169403076,55.207651066725106],[61.31390333175659,55.20423489114649],[61.31403207778931,55.20443080878023],[61.314096450805664,55.20436958462322],[61.358020305633545,55.17223841074904],[61.35233402252197,55.16837798685228],[61.35216236114502,55.16832896319278],[61.33997440338135,55.1726060506713]]
kolyaWorkouts = [[61.38082981109619,55.162408913191456],[61.380615234375,55.16234762443329],[61.38089418411255,55.1623843976995],[61.380465030670166,55.16245794413018],[61.376237869262695,55.16470104510723],[61.376023292541504,55.16477458726522],[61.37636661529541,55.16467653102441],[61.369993686676025,55.16744652701369],[61.36986494064331,55.16752006410791],[61.369993686676025,55.1673729897838],[61.36392116546631,55.16318114347371],[61.364006996154785,55.16303405314434],[61.36435031890869,55.163021795592414],[61.3641357421875,55.16305856823691]]
petyaWorkouts = [[61.36061668395996,55.170142798447365],[61.34490966796875,55.18881559965124],[61.32044792175293,55.1886686038936]]
mishaWorkouts = [[61.32987856864929,55.17432778585017],[61.329824924468994,55.17430327768611],[61.32987856864929,55.174315531770006],[61.34023189544678,55.17228742960125],[61.34040355682373,55.17249575905065],[61.340510845184326,55.17227517489384],[61.35947942733765,55.170069266190644],[61.35984420776367,55.17020407522436],[61.35969400405884,55.16992220127033],[61.360037326812744,55.17009377695798],[61.362043619155884,55.158510760653535],[61.3621723651886,55.15850463118285],[61.36205434799194,55.158437206943155],[61.36185050010681,55.158510760653535]]

toWorkout = (user, location) ->
  _id: new ObjectId()
  user: user._id
  type: 'running'
  isActive: false
  updatedAt: moment().subtract(1, 'day').toDate()
  meanSpeed: 3 + Math.random() * 3
  maxSpeed: 4 + Math.random() * 4
  distance: 2000 + Math.random() * 3000
  time: 72e6 + Math.random() * 108e6
  startingLocation: location

module.exports = []
  .concat(vasyaWorkouts.map(_.partial(toWorkout, vasya)))
  .concat(petyaWorkouts.map(_.partial(toWorkout, petya)))
  .concat(mishaWorkouts.map(_.partial(toWorkout, misha)))
  .concat(kolyaWorkouts.map(_.partial(toWorkout, kolya)))
